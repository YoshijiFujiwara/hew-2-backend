<?php

use Faker\Generator as Faker;


$factory->define(\App\Model\Session::class, function (Faker $faker) {
    // ホットペッパーAPIから取得した、実店舗ID集
    $shopIds = ['J000963240','J000694448','J001099992','J001052197','J001192122','J001052371','J001209609','J001194970','J001144867','J001161470','J001100873','J001029450','J000019139','J001145745','J001209608','J001168766','J000017824','J001146629','J000683552','J001193218','J001125900','J001028666','J001144706','J001134233','J000957569','J001050624','J001098881','J001187367','J001182578','J001169117','J001099094','J001184923','J000022634','J001102075','J000013617','J001050722','J001194110','J001051727','J001184911','J000012497','J000012664','J000018737','J001210696','J000021426','J000963343','J000015634','J000024865','J001143480','J001209444','J000014000','J000972899','J001029516','J001192120','J000109552','J000013239','J001041551','J001162244','J001119384','J001008846','J001208108','J000973146','J001147486','J001154362','J000677546','J000661338','J001145636','J001160271','J001194339','J001109082','J000016617','J001200872','J001195165','J001200923','J001210397','J001215827','J000767139','J001208231','J001207537','J000768880','J000999604','J001126883','J001101861','J000012610','J001000926','J000635929','J001037164','J000972131','J000718142','J001008890','J001215799','J001209594','J001208310','J000971894','J001211230','J001185938','J001050609','J001187690','J000019291','J000740482','J001134143', 'J001208082','J001029581','J001143375','J001029155','J001041434','J001203494','J000020574','J001194846','J000761922','J000767444','J000019967','J001147493','J001010176','J000979901','J001153025','J000653126','J000973148','J001176885','J000509514','J000988056','J000724855','J001215788','J001215718','J000973149','J001117932','J001195087','J000712338','J001195663','J000988057','J001001701','J001119391','J001135323','J001161411','J000774909','J001153359','J001209047','J000996360','J000497461','J001053871','J001152994','J000774661','J000691177','J001187608','J001119068','J000019970','J000773309','J000661954','J001210163','J001186810','J000497795','J001118342','J000717522','J000777586','J001141577','J000979595','J000678483','J000636388','J000636614','J001127780','J001000079','J000748318','J001053396','J000497489','J000741903','J000729241','J001146538','J000774905','J000499019','J000500138','J000726635','J000653122','J000759089','J001038624','J000498528','J001136073','J001127513','J000769749','J000767439','J000777741','J000979601','J001178874','J000499458','J000979104','J000498796','J000736618','J000497526','J001014343','J001159817','J001053336','J000647042','J001145049','J000799879','J001185692','J000498797','J000714475','J000497161','J000371495','J000499038','J001142943','J000497549', 'J001194870','J000765350','J001194401','J000002959','J000773253','J000023101','J001161515','J001168513','J000988603','J000861609','J001050306','J000017303','J000032514','J000707299','J001010627','J001027492','J001170253','J001125585','J001160659','J001202846','J001126024','J000767122','J001200906','J001161360','J000726784','J000005990','J000062982','J001177094','J001184868','J001162682','J000000687','J001168589','J000973701','J001211233','J001194384','J001169769','J000729445','J000742899','J001203375','J000748158','J000980907','J001010553','J001209402','J000981741','J000010946','J001215755','J001155166','J001208314','J001051681','J001209194','J000717103','J000015173','J001184739','J000956681','J000973026','J000691001','J000839477','J001185446','J001119220','J001187682','J000060454','J000767613','J000005607','J001195037','J001215766','J000004719','J001203680','J000025408','J001109293','J000768575','J001146555','J000000652','J000677410','J000000981','J001019079','J001201852','J000728952','J001117510','J000004915','J000030625','J000712227','J001153456','J001194991','J000722611','J000162198','J000972115','J001146867','J001215659','J001179818','J000034068','J000980810','J001009249','J000636965','J001203703','J000010111','J000987929','J001009564','J000005939','J000698001','J001162548','J000509508','J001146631','J001042592','J000661341','J000501012','J001193923','J001184919','J001215770','J001178980','J001119459','J000792010','J000110947','J000506399','J000501778','J001209817','J001160074','J001209488','J001168585','J000977273','J000110980','J000852711','J001203371','J000502549','J000685690','J000979060','J001203188','J001102386','J000708965','J000501976','J001200561','J000504806','J000763113','J000209268','J000506354','J000506383','J001098718','J000837895','J000697938','J000979240','J000978990','J000501687','J000506360','J000501450','J000635237','J000996549','J000502010','J001201565','J000849779','J000654380','J000501499','J000504906','J001177361','J000502199','J001019088','J001050830','J001060875','J000764511','J000654418','J000502205','J000754383','J001051856','J000501393','J001042591','J000501118','J001145471','J000501813','J000823868','J000501673','J000823875','J001200725','J000661146','J000754387','J000502006','J001171293','J000505305','J000979327','J000792101','J000501723','J001118573','J001066246','J000501611','J000657536','J000654317','J000996472','J000654355','J001024136','J001060852','J000501441','J001005811','J000635667','J000773293','J000132950','J000501753','J001202203','J000501378','J001153849','J000830274','J001052145','J000501641','J000744495','J001049984','J001161859','J000017413','J000724526','J001036819','J000746511','J001203660','J000020135','J000018741','J001018713','J001144360','J001193075','J000019315','J000017609','J001215477','J000017811','J000019114','J000761913','J001168918','J000028592','J001184565','J001135542','J000055728','J001162041','J001215294','J001038452','J000019803','J000707112','J000019621','J000019328','J001125287','J001202709','J000032743','J000749179','J001216088','J000748112','J001145016','J001038721','J000020607','J001144361','J001049911','J000746762','J001153050','J001010199','J000019514','J000768897','J001160293','J001143124','J001028096','J001208085','J000980473','J000973885','J000020000','J000980263','J001018435','J001193694','J001039779','J000482736','J000726968','J000019823','J001201857','J000765403','J001207914','J001202154','J001195025','J000761943','J001152795','J001184861','J000955072','J001009539','J001118107','J001162572','J001203950','J000689968','J000631798','J000030726','J000767679','J001215612','J000020103','J001216092','J001194987','J001037160','J001118041','J001215035','J000019113','J001109202','J000980456','J001178159','J001162616','J000753854','J000767263','J001017475','J001203671','J001200005','J001010630','J001202775','J001109148','J000024208','J001203850','J001000806'];

    $startTime = null;
    $endTime = null;
    $randomNumber = rand(0,20);

    $random = rand(5, 100);
    $randomHour = rand(-12, 12);
    if ($randomNumber > 15) {
        $startTime = \Carbon\Carbon::now()->addDay($random)->addHour($randomHour);
        $endTime = null;
    } else if ($randomNumber > 10) {
        $startTime = \Carbon\Carbon::now()->addDay($random)->addHour($randomHour);
        $endTime = \Carbon\Carbon::now()->addDay($random)->addHour($randomHour + 3);
    } else if ($randomNumber > 5) {
        $startTime = \Carbon\Carbon::now()->addHour(rand(-5, -1));
        $endTime = \Carbon\Carbon::now()->addHour(rand(1, 5));
    } else {
        $startTime = \Carbon\Carbon::now()->addDay($random * (-1))->addHour($randomHour);
        $endTime = \Carbon\Carbon::now()->addDay($random * (-1))->addHour($randomHour + 3);
    }


    $prefixArray = ['いつもの', 'たまに', '重要な', 'まれな', '大事な', 'スペシャル', '普通の', '学校の', '職場の', 'バイト先の', '大切な', '愉快な'];
    $sessionNames = ['飲み会', 'パーティ', 'うちあげ', 'イベント'];

    return [
        'name' => $prefixArray[array_rand($prefixArray)] . $sessionNames[array_rand($sessionNames)] . rand(1,10),
        'shop_id' => \Illuminate\Support\Arr::random($shopIds),
        'budget' => $faker->numberBetween(1000, 30000),
        'actual' => $faker->numberBetween(1000, 50000),
        'start_time' => $startTime,
        'end_time' => $endTime
    ];
});
